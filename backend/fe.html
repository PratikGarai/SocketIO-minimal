<html>
    <head>
        <title>SocketIO example</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.0/socket.io.js" integrity="sha512-+l9L4lMTFNy3dEglQpprf7jQBhQsQ3/WvOnjaN/+/L4i0jOstgScV0q2TjfvRF4V+ZePMDuZYIQtg5T4MKr+MQ==" crossorigin="anonymous"></script>
    </head>
    <body>
        <h2>Here is the last message : </h2>
        <p>
        <span id="message-box"></span>
        </p>
        <br>
        <form id="form">
            <input type="text" name="message" id="message-input"></input>
            <input type="submit">
        </form>
        <script>
            var socket = io();
            console.log(socket);
            var element = document.getElementById('message-box');
            var inputElement = document.getElementById('message-input');
            var formElement = document.getElementById('form');

            socket.on('message', (message) => {
                element.innerText = message;
            })

            formElement.onsubmit =  (something) => {
                something.preventDefault();
                socket.emit('message', inputElement.value);
            }
            console.log(formElement);
        </script>
    </body>
</html>